function senyera()
	-- Attach
	gdisplay.attach(gdisplay.ST7735G_18, gdisplay.LANDSCAPE_FLIP, false)
	gdisplay.clear()

	-- Get the screen size
	local dw, dh = gdisplay.getscreensize()

	-- The Senyera has 9 bands
	local band = dh / 9

	-- The Senyera has 2 colors
	-- even bands are yellow, and odd bands are red
	color1 = gdisplay.YELLOW
	color2 = gdisplay.RED

	-- Draw bands
	i = 1
	y = 0
	for i = 1,9,1 do
	   if (i % 2 == 1) then
	      color = color1
	   else
	      color = color2
	   end 
   
	   gdisplay.rect({0, y}, dw - 1, band, color, color)
	   y = y + band - 1
	end
end

senyera()

    spi_create();

    // Sanity checks
    driver_error_t *error = spi_basic_sanity_checks(deviceid);
    if (error) {
        return error;
    }
	
	
	
s = spi.attach(spi.SPI3, spi.MASTER, pio.GPIO26, 1000000, 8, 0)
while true do
s:select()
s:write(1,2,3,4)
s:write(5,6,7,8)
s:write("hello")
s:deselect()
end